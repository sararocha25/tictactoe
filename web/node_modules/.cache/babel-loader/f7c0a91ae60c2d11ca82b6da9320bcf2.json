{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Irene Canelas/Documents/GitHub/tictactoe/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Irene Canelas/Documents/GitHub/tictactoe/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Irene Canelas/Documents/GitHub/tictactoe/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory,NavLink}from\"react-router-dom\";import{toast,Slide}from\"react-toastify\";import{API_URL}from\"../../utils/constants\";import{errorToast}from\"../../utils/errorToast\";import{searchGame}from\"../../utils/searchGame\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),gameId=_useState2[0],setGameId=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),gameExists=_useState4[0],setGameExists=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),gameIdToJoin=_useState6[0],setGameIdToJoin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),bothJoined=_useState8[0],setBothJoined=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),joinGameInput=_useState10[0],setJoinGameInput=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),creatingGame=_useState12[0],setCreatingGame=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),joiningGame=_useState14[0],setJoiningGame=_useState14[1];var history=useHistory();var createGame=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setJoinGameInput(false);setCreatingGame(true);_context.prev=2;_context.next=5;return fetch(\"\".concat(API_URL,\"api/create/game\"));case 5:res=_context.sent;_context.next=8;return res.json();case 8:data=_context.sent;if(data.result===\"success\"){setGameId(data.game_id);setCreatingGame(false);}_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setCreatingGame(false);errorToast();case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function createGame(){return _ref.apply(this,arguments);};}();//vs Computer [1]\nvar vsComputer=function vsComputer(){return history.push({pathname:\"/computer\"});};var toggleJoinGameInput=function toggleJoinGameInput(){return setJoinGameInput(!joinGameInput);};var startGame=function startGame(){return history.push({pathname:\"/game\",state:{gameId:gameId,mode:\"CREATE\"}});};var joinGame=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _gameExists;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(gameIdToJoin){_context2.next=2;break;}return _context2.abrupt(\"return\",null);case 2:_context2.prev=2;setJoiningGame(true);_context2.next=6;return searchGame(gameIdToJoin);case 6:_gameExists=_context2.sent;if(_gameExists){setGameExists(true);setJoiningGame(false);if(_gameExists.online!==2){history.push({pathname:\"/game\",state:{gameId:gameIdToJoin,mode:\"JOIN\"}});}else{setBothJoined(true);}}else{setBothJoined(false);setGameExists(false);setJoiningGame(false);}_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);console.error(_context2.t0);errorToast();setJoiningGame(false);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function joinGame(){return _ref2.apply(this,arguments);};}();var copyLink=function copyLink(link){var _navigator$clipboard;(_navigator$clipboard=navigator.clipboard)===null||_navigator$clipboard===void 0?void 0:_navigator$clipboard.writeText(link);toast(\"Copied\",{position:\"bottom-center\",hideProgressBar:true,draggable:false,autoClose:5000,pauseOnHover:false,closeOnClick:true,transition:Slide,bodyClassName:\"flex items-center flex-row  text-black rounded-lg\"});};var shareLink=function shareLink(link){if(navigator.share){try{navigator.share({title:\"Tic Tac Toe Online\",text:\"You're invited to play Tic Tac Toe Online\",url:link});}catch(err){console.error(err);}}else{console.error(\"Sharing not supported\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-screen  items-center justify-center px-4\",style:{height:window.innerHeight},children:[/*#__PURE__*/_jsx(\"nav\",{className:\"stroke navbar navbar-expand-lg navbar-light fixed-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/login\",children:\"Jogo do Galo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarTogglerDemo02\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ml-auto\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav\",children:/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/register\",children:\"Sign up\"})]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4 h-full items-center justify-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold mt-2\",children:\"Tic-Tac-Toe\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-light text-xl \",children:\"Online\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl text-center pt-4\",children:\"Get Started\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",type:\"submit\",onClick:vsComputer,children:\"vs. Computer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\",onClick:createGame,children:creatingGame?\"Creating...\":\"Create a new game\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleJoinGameInput,className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",children:joiningGame?\"Joining...\":\"Join a game\"})]}),gameId&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-col text-center py-4 px-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold\",children:[\"Game Created.\",/*#__PURE__*/_jsx(\"br\",{}),\"Game ID : \",gameId]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm md:text-base\",children:\"Ask the other player to enter this ID while Joining the game. Or use the link below (Tap to copy) :\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return copyLink(window.location+\"join/\"+gameId);},className:\"my-4 text-gray-700\",children:window.location+\"join/\"+gameId}),navigator.share!==undefined&&/*#__PURE__*/_jsx(\"button\",{className:\"text-lg font-medium \",onClick:function onClick(){return shareLink(window.location+\"join/\"+gameId);},children:\"Share\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\",onClick:startGame,children:\"Start Game\"})]}),joinGameInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row space-x-4 justify-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gameID\",id:\"gameID\",className:\"bg-gray-100 px-4 py-3 rounded-md w-48\",placeholder:\"Game ID\",onChange:function onChange(e){setGameIdToJoin(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white bg-black py-3 px-6\",onClick:joinGame,children:\"Join\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[bothJoined&&/*#__PURE__*/_jsx(\"h3\",{className:\"my-4 text-red-700\",children:\"Both players have already joined.\"}),!gameExists&&/*#__PURE__*/_jsx(\"h3\",{className:\"my-4 text-red-700\",children:\"Game doesn't exist. Create one to start playing.\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\" mb-4 text-center flex flex-col text-sm md:text-base\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Inspired by Niketan Gulekar project\"})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/Irene Canelas/Documents/GitHub/tictactoe/web/src/pages/Home/index.tsx"],"names":["React","useState","Link","useHistory","NavLink","toast","Slide","API_URL","errorToast","searchGame","Home","gameId","setGameId","gameExists","setGameExists","gameIdToJoin","setGameIdToJoin","bothJoined","setBothJoined","joinGameInput","setJoinGameInput","creatingGame","setCreatingGame","joiningGame","setJoiningGame","history","createGame","fetch","res","json","data","result","game_id","console","error","vsComputer","push","pathname","toggleJoinGameInput","startGame","state","mode","joinGame","online","copyLink","link","navigator","clipboard","writeText","position","hideProgressBar","draggable","autoClose","pauseOnHover","closeOnClick","transition","bodyClassName","shareLink","share","title","text","url","err","height","window","innerHeight","location","undefined","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory, NavLink } from \"react-router-dom\";\r\nimport { toast, Slide } from \"react-toastify\";\r\nimport { API_URL } from \"../../utils/constants\";\r\nimport { errorToast } from \"../../utils/errorToast\";\r\nimport { searchGame } from \"../../utils/searchGame\";\r\n\r\nconst Home: React.FC<any> = () => {\r\n\tconst [gameId, setGameId] = useState(null);\r\n\tconst [gameExists, setGameExists] = useState(true);\r\n\tconst [gameIdToJoin, setGameIdToJoin] = useState<string | null>(null);\r\n\tconst [bothJoined, setBothJoined] = useState(false);\r\n\tconst [joinGameInput, setJoinGameInput] = useState(false);\r\n\tconst [creatingGame, setCreatingGame] = useState(false);\r\n\r\n\tconst [joiningGame, setJoiningGame] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst createGame = async () => {\r\n\t\tsetJoinGameInput(false);\r\n\t\tsetCreatingGame(true);\r\n\t\ttry {\r\n\t\t\tconst res = await fetch(`${API_URL}api/create/game`);\r\n\t\t\tconst data = await res.json();\r\n\t\t\tif (data.result === \"success\") {\r\n\t\t\t\tsetGameId(data.game_id);\r\n\t\t\t\tsetCreatingGame(false);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t\tsetCreatingGame(false);\r\n\t\t\terrorToast();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t//vs Computer [1]\r\n\tconst vsComputer = () =>\r\n\t\thistory.push({\r\n\t\t\tpathname: \"/computer\"\r\n\t\t});\r\n\r\n\r\n\tconst toggleJoinGameInput = () => setJoinGameInput(!joinGameInput);\r\n\r\n\tconst startGame = () =>\r\n\t\thistory.push({\r\n\t\t\tpathname: \"/game\",\r\n\t\t\tstate: {\r\n\t\t\t\tgameId,\r\n\t\t\t\tmode: \"CREATE\",\r\n\t\t\t},\r\n\t\t});\r\n\r\n\tconst joinGame = async () => {\r\n\t\tif (!gameIdToJoin) return null;\r\n\t\ttry {\r\n\t\t\tsetJoiningGame(true);\r\n\r\n\t\t\tconst gameExists = await searchGame(gameIdToJoin);\r\n\r\n\t\t\tif (gameExists) {\r\n\t\t\t\tsetGameExists(true);\r\n\t\t\t\tsetJoiningGame(false);\r\n\t\t\t\tif (gameExists.online !== 2) {\r\n\t\t\t\t\thistory.push({\r\n\t\t\t\t\t\tpathname: \"/game\",\r\n\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\tgameId: gameIdToJoin,\r\n\t\t\t\t\t\t\tmode: \"JOIN\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetBothJoined(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetBothJoined(false);\r\n\t\t\t\tsetGameExists(false);\r\n\t\t\t\tsetJoiningGame(false);\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t\terrorToast();\r\n\t\t\tsetJoiningGame(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst copyLink = (link: string) => {\r\n\t\tnavigator.clipboard?.writeText(link);\r\n\t\ttoast(\"Copied\", {\r\n\t\t\tposition: \"bottom-center\",\r\n\t\t\thideProgressBar: true,\r\n\t\t\tdraggable: false,\r\n\t\t\tautoClose: 5000,\r\n\t\t\tpauseOnHover: false,\r\n\t\t\tcloseOnClick: true,\r\n\t\t\ttransition: Slide,\r\n\t\t\tbodyClassName: \"flex items-center flex-row  text-black rounded-lg\",\r\n\t\t});\r\n\t};\r\n\r\n\r\n\r\n\tconst shareLink = (link:string) => {\r\n\t\tif (navigator.share) {\r\n\t\t\ttry {\r\n\t\t\t\tnavigator.share({\r\n\t\t\t\t\ttitle:\"Tic Tac Toe Online\",\r\n\t\t\t\t\ttext: \"You're invited to play Tic Tac Toe Online\",\r\n\t\t\t\t\turl: link\r\n\t\t\t\t})\t\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tconsole.error(\"Sharing not supported\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"flex flex-col w-screen  items-center justify-center px-4\"\r\n\t\t\tstyle={{\r\n\t\t\t\theight: window.innerHeight,\r\n\t\t\t}}\r\n\t\t>\r\n\r\n\t\t<nav className=\"stroke navbar navbar-expand-lg navbar-light fixed-top\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t<Link className=\"navbar-brand\" to={\"/login\"}>Jogo do Galo</Link>\r\n\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\t\t\t\t</ul>\r\n\t\t\t\t<ul className=\"navbar-nav\">\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<NavLink className=\"nav-link\" to={\"/login\"}>Login</NavLink>\r\n\t\t\t\t\t<NavLink  className=\"nav-link\" to={\"/register\"}>Sign up</NavLink>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\r\n\t\t\t<div className=\"flex flex-col space-y-4 h-full items-center justify-center\">\r\n\t\t\t\t<span className=\"flex\">\r\n\t\t\t\t\t<p className=\"text-4xl font-bold mt-2\">Tic-Tac-Toe</p>\r\n\t\t\t\t\t<p className=\"font-light text-xl \">Online</p>\r\n\t\t\t\t</span>\r\n\t\t\t\t<h3 className=\"text-xl text-center pt-4\">Get Started</h3>\r\n\t\t\t\t<div className=\"flex space-x-4 flex-wrap\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button className=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\" type=\"submit\" onClick={vsComputer}\r\n>vs. Computer</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\"\r\n\t\t\t\t\t\tonClick={createGame}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{creatingGame ? \"Creating...\" : \"Create a new game\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={toggleJoinGameInput}\r\n\t\t\t\t\t\tclassName=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{joiningGame ? \"Joining...\" : \"Join a game\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{gameId && (\r\n\t\t\t\t\t<div className=\"flex items-center flex-col text-center py-4 px-4\">\r\n\t\t\t\t\t\t<h4 className=\"text-lg font-semibold\">\r\n\t\t\t\t\t\t\tGame Created.\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\tGame ID : {gameId}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t<p className=\"text-sm md:text-base\">\r\n\t\t\t\t\t\t\tAsk the other player to enter this ID while Joining\r\n\t\t\t\t\t\t\tthe game. Or use the link below (Tap to copy) :\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tcopyLink(window.location + \"join/\" + gameId)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"my-4 text-gray-700\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{window.location + \"join/\" + gameId}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{navigator.share !== undefined && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"text-lg font-medium \"\r\n\t\t\t\t\t\tonClick={() => shareLink(window.location + \"join/\" + gameId)}>Share</button>)}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\"\r\n\t\t\t\t\t\t\tonClick={startGame}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStart Game\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{joinGameInput && (\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<div className=\"flex flex-row space-x-4 justify-center\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"gameID\"\r\n\t\t\t\t\t\t\t\tid=\"gameID\"\r\n\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 px-4 py-3 rounded-md w-48\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Game ID\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetGameIdToJoin(e.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-black py-3 px-6\"\r\n\t\t\t\t\t\t\t\tonClick={joinGame}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tJoin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{bothJoined && (\r\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\r\n\t\t\t\t\t\t\t\t\tBoth players have already joined.\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{!gameExists && (\r\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\r\n\t\t\t\t\t\t\t\t\tGame doesn&apos;t exist. Create one to start\r\n\t\t\t\t\t\t\t\t\tplaying.\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\" mb-4 text-center flex flex-col text-sm md:text-base\">\r\n\t\t\t\t<p>\r\n\t\t\t\t\tInspired by Niketan Gulekar project\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}