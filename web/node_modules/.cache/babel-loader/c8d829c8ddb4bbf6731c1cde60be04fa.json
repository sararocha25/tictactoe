{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\GitHub\\\\tic-tac-toe-online-main\\\\web\\\\src\\\\pages\\\\Home\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { toast, Slide } from \"react-toastify\";\nimport { API_URL } from \"../../utils/constants\";\nimport { errorToast } from \"../../utils/errorToast\";\nimport { searchGame } from \"../../utils/searchGame\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [gameId, setGameId] = useState(null);\n  const [gameExists, setGameExists] = useState(true);\n  const [gameIdToJoin, setGameIdToJoin] = useState(null);\n  const [bothJoined, setBothJoined] = useState(false);\n  const [joinGameInput, setJoinGameInput] = useState(false);\n  const [creatingGame, setCreatingGame] = useState(false);\n  const [joiningGame, setJoiningGame] = useState(false);\n  const history = useHistory();\n\n  const createGame = async () => {\n    setJoinGameInput(false);\n    setCreatingGame(true);\n\n    try {\n      const res = await fetch(`${API_URL}api/create/game`);\n      const data = await res.json();\n\n      if (data.result === \"success\") {\n        setGameId(data.game_id);\n        setCreatingGame(false);\n      }\n    } catch (err) {\n      console.error(err);\n      setCreatingGame(false);\n      errorToast();\n    }\n  };\n\n  const toggleJoinGameInput = () => setJoinGameInput(!joinGameInput);\n\n  const startGame = () => history.push({\n    pathname: \"/game\",\n    state: {\n      gameId,\n      mode: \"CREATE\"\n    }\n  });\n\n  const joinGame = async () => {\n    if (!gameIdToJoin) return null;\n\n    try {\n      setJoiningGame(true);\n      const gameExists = await searchGame(gameIdToJoin);\n\n      if (gameExists) {\n        setGameExists(true);\n        setJoiningGame(false);\n\n        if (gameExists.online !== 2) {\n          history.push({\n            pathname: \"/game\",\n            state: {\n              gameId: gameIdToJoin,\n              mode: \"JOIN\"\n            }\n          });\n        } else {\n          setBothJoined(true);\n        }\n      } else {\n        setBothJoined(false);\n        setGameExists(false);\n        setJoiningGame(false);\n      }\n    } catch (err) {\n      console.error(err);\n      errorToast();\n      setJoiningGame(false);\n    }\n  };\n\n  const copyLink = link => {\n    var _navigator$clipboard;\n\n    (_navigator$clipboard = navigator.clipboard) === null || _navigator$clipboard === void 0 ? void 0 : _navigator$clipboard.writeText(link);\n    toast(\"Copied\", {\n      position: \"bottom-center\",\n      hideProgressBar: true,\n      draggable: false,\n      autoClose: 5000,\n      pauseOnHover: false,\n      closeOnClick: true,\n      transition: Slide,\n      bodyClassName: \"flex items-center flex-row  text-black rounded-lg\"\n    });\n  };\n\n  const shareLink = link => {\n    if (navigator.share) {\n      try {\n        navigator.share({\n          title: \"Tic Tac Toe Online\",\n          text: \"You're invited to play Tic Tac Toe Online\",\n          url: link\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    } else {\n      console.error(\"Sharing not supported\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col w-screen  items-center justify-center px-4\",\n    style: {\n      height: window.innerHeight\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-4 h-full items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-4xl font-bold mt-2\",\n          children: \"Tic-Tac-Toe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-light text-xl \",\n          children: \"Online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl text-center pt-4\",\n        children: \"Get Started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\",\n          onClick: createGame,\n          children: creatingGame ? \"Creating...\" : \"Create a new game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleJoinGameInput,\n          className: \"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",\n          children: joiningGame ? \"Joining...\" : \"Join a game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this), gameId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center flex-col text-center py-4 px-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold\",\n          children: [\"Game Created.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 8\n          }, this), \"Game ID : \", gameId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm md:text-base\",\n          children: \"Ask the other player to enter this ID while Joining the game. Or use the link below (Tap to copy) :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => copyLink(window.location + \"join/\" + gameId),\n          className: \"my-4 text-gray-700\",\n          children: window.location + \"join/\" + gameId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 7\n        }, this), navigator.share !== undefined && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-lg font-medium \",\n          onClick: () => shareLink(window.location + \"join/\" + gameId),\n          children: \"Share\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\",\n          onClick: startGame,\n          children: \"Start Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 6\n      }, this), joinGameInput && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row space-x-4 justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"gameID\",\n            id: \"gameID\",\n            className: \"bg-gray-100 px-4 py-3 rounded-md w-48\",\n            placeholder: \"Game ID\",\n            onChange: e => {\n              setGameIdToJoin(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-white bg-black py-3 px-6\",\n            onClick: joinGame,\n            children: \"Join\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [bothJoined && /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"my-4 text-red-700\",\n            children: \"Both players have already joined.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 9\n          }, this), !gameExists && /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"my-4 text-red-700\",\n            children: \"Game doesn't exist. Create one to start playing.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" mb-4 text-center flex flex-col text-sm md:text-base\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://github.com/NiketanG/tic-tac-toe-online\",\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        className: \"underline text-gray-600\",\n        children: \"Learn More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Designed and Developed by\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"http://bit.ly/nikketan\",\n          children: \"Niketan Gulekar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }, this), \" \\xA9\", new Date().getFullYear()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Home, \"bSWzCT0wjcdiE/LxQPbRorym1Hk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Asus/Documents/GitHub/tic-tac-toe-online-main/web/src/pages/Home/index.tsx"],"names":["React","useState","useHistory","toast","Slide","API_URL","errorToast","searchGame","Home","gameId","setGameId","gameExists","setGameExists","gameIdToJoin","setGameIdToJoin","bothJoined","setBothJoined","joinGameInput","setJoinGameInput","creatingGame","setCreatingGame","joiningGame","setJoiningGame","history","createGame","res","fetch","data","json","result","game_id","err","console","error","toggleJoinGameInput","startGame","push","pathname","state","mode","joinGame","online","copyLink","link","navigator","clipboard","writeText","position","hideProgressBar","draggable","autoClose","pauseOnHover","closeOnClick","transition","bodyClassName","shareLink","share","title","text","url","height","window","innerHeight","location","undefined","e","target","value","Date","getFullYear"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toast, Slide } from \"react-toastify\";\n\nimport { API_URL } from \"../../utils/constants\";\nimport { errorToast } from \"../../utils/errorToast\";\nimport { searchGame } from \"../../utils/searchGame\";\n\nconst Home: React.FC<any> = () => {\n\tconst [gameId, setGameId] = useState(null);\n\tconst [gameExists, setGameExists] = useState(true);\n\tconst [gameIdToJoin, setGameIdToJoin] = useState<string | null>(null);\n\tconst [bothJoined, setBothJoined] = useState(false);\n\tconst [joinGameInput, setJoinGameInput] = useState(false);\n\tconst [creatingGame, setCreatingGame] = useState(false);\n\n\tconst [joiningGame, setJoiningGame] = useState(false);\n\n\tconst history = useHistory();\n\n\tconst createGame = async () => {\n\t\tsetJoinGameInput(false);\n\t\tsetCreatingGame(true);\n\t\ttry {\n\t\t\tconst res = await fetch(`${API_URL}api/create/game`);\n\t\t\tconst data = await res.json();\n\t\t\tif (data.result === \"success\") {\n\t\t\t\tsetGameId(data.game_id);\n\t\t\t\tsetCreatingGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tsetCreatingGame(false);\n\t\t\terrorToast();\n\t\t}\n\t};\n\n\tconst toggleJoinGameInput = () => setJoinGameInput(!joinGameInput);\n\n\tconst startGame = () =>\n\t\thistory.push({\n\t\t\tpathname: \"/game\",\n\t\t\tstate: {\n\t\t\t\tgameId,\n\t\t\t\tmode: \"CREATE\",\n\t\t\t},\n\t\t});\n\n\tconst joinGame = async () => {\n\t\tif (!gameIdToJoin) return null;\n\t\ttry {\n\t\t\tsetJoiningGame(true);\n\n\t\t\tconst gameExists = await searchGame(gameIdToJoin);\n\n\t\t\tif (gameExists) {\n\t\t\t\tsetGameExists(true);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t\tif (gameExists.online !== 2) {\n\t\t\t\t\thistory.push({\n\t\t\t\t\t\tpathname: \"/game\",\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tgameId: gameIdToJoin,\n\t\t\t\t\t\t\tmode: \"JOIN\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetBothJoined(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetBothJoined(false);\n\t\t\t\tsetGameExists(false);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\terrorToast();\n\t\t\tsetJoiningGame(false);\n\t\t}\n\t};\n\n\tconst copyLink = (link: string) => {\n\t\tnavigator.clipboard?.writeText(link);\n\t\ttoast(\"Copied\", {\n\t\t\tposition: \"bottom-center\",\n\t\t\thideProgressBar: true,\n\t\t\tdraggable: false,\n\t\t\tautoClose: 5000,\n\t\t\tpauseOnHover: false,\n\t\t\tcloseOnClick: true,\n\t\t\ttransition: Slide,\n\t\t\tbodyClassName: \"flex items-center flex-row  text-black rounded-lg\",\n\t\t});\n\t};\n\n\n\n\tconst shareLink = (link:string) => {\n\t\tif (navigator.share) {\n\t\t\ttry {\n\t\t\t\tnavigator.share({\n\t\t\t\t\ttitle:\"Tic Tac Toe Online\",\n\t\t\t\t\ttext: \"You're invited to play Tic Tac Toe Online\",\n\t\t\t\t\turl: link\n\t\t\t\t})\t\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err)\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tconsole.error(\"Sharing not supported\")\n\t\t}\n\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"flex flex-col w-screen  items-center justify-center px-4\"\n\t\t\tstyle={{\n\t\t\t\theight: window.innerHeight,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"flex flex-col space-y-4 h-full items-center justify-center\">\n\t\t\t\t<span className=\"flex\">\n\t\t\t\t\t<p className=\"text-4xl font-bold mt-2\">Tic-Tac-Toe</p>\n\t\t\t\t\t<p className=\"font-light text-xl \">Online</p>\n\t\t\t\t</span>\n\t\t\t\t<h3 className=\"text-xl text-center pt-4\">Get Started</h3>\n\t\t\t\t<div className=\"flex space-x-4 flex-wrap\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\"\n\t\t\t\t\t\tonClick={createGame}\n\t\t\t\t\t>\n\t\t\t\t\t\t{creatingGame ? \"Creating...\" : \"Create a new game\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={toggleJoinGameInput}\n\t\t\t\t\t\tclassName=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{joiningGame ? \"Joining...\" : \"Join a game\"}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{gameId && (\n\t\t\t\t\t<div className=\"flex items-center flex-col text-center py-4 px-4\">\n\t\t\t\t\t\t<h4 className=\"text-lg font-semibold\">\n\t\t\t\t\t\t\tGame Created.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tGame ID : {gameId}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p className=\"text-sm md:text-base\">\n\t\t\t\t\t\t\tAsk the other player to enter this ID while Joining\n\t\t\t\t\t\t\tthe game. Or use the link below (Tap to copy) :\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcopyLink(window.location + \"join/\" + gameId)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"my-4 text-gray-700\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{window.location + \"join/\" + gameId}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{navigator.share !== undefined && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"text-lg font-medium \"\n\t\t\t\t\t\tonClick={() => shareLink(window.location + \"join/\" + gameId)}>Share</button>)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\"\n\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart Game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{joinGameInput && (\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<div className=\"flex flex-row space-x-4 justify-center\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"gameID\"\n\t\t\t\t\t\t\t\tid=\"gameID\"\n\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 px-4 py-3 rounded-md w-48\"\n\t\t\t\t\t\t\t\tplaceholder=\"Game ID\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetGameIdToJoin(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-black py-3 px-6\"\n\t\t\t\t\t\t\t\tonClick={joinGame}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{bothJoined && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tBoth players have already joined.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{!gameExists && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tGame doesn&apos;t exist. Create one to start\n\t\t\t\t\t\t\t\t\tplaying.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\" mb-4 text-center flex flex-col text-sm md:text-base\">\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/NiketanG/tic-tac-toe-online\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\tclassName=\"underline text-gray-600\"\n\t\t\t\t>\n\t\t\t\t\tLearn More\n\t\t\t\t</a>\n\t\t\t\t<p>\n\t\t\t\t\tDesigned and Developed by{\" \"}\n\t\t\t\t\t<a href=\"http://bit.ly/nikketan\">Niketan Gulekar</a> &copy;\n\t\t\t\t\t{new Date().getFullYear()}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}