{"code":"(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{89:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),c=n(25),s=n.n(c),i=n(21),o=n(2),l=n(4),u=n.n(l),d=n(15),b=n(53),j=n(5),m=\"/\",x=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(m,\"api/search/game\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({game_id:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(\"fail\"!==(a=e.sent).result){e.next=8;break}return e.abrupt(\"return\",{gameExists:!1,online:0});case 8:if(\"success\"!==a.result){e.next=10;break}return e.abrupt(\"return\",{gameExists:!0,online:a.online});case 10:return e.abrupt(\"return\",{gameExists:!1,online:0});case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=n(51),f=Object(h.io)(\"\".concat(\"/\",\"game\"),{withCredentials:!0}),p=(n(89),n(9)),O=n(1),g=function(e){var t=e.onClick,n=e.value;return Object(O.jsx)(\"button\",{className:\"square\",onClick:t,children:n})},v=function(e){var t=e.mode,n=e.gameId,r=Object(a.useState)([]),c=Object(j.a)(r,2),s=c[0],i=c[1],l=Object(a.useState)(!0),x=Object(j.a)(l,2),h=x[0],v=x[1],y=Object(a.useState)(null),k=Object(j.a)(y,2),N=k[0],C=k[1],T=Object(a.useState)(!1),I=Object(j.a)(T,2),E=I[0],S=I[1],G=\"CREATE\"===t?\"X\":\"O\",J=Object(o.f)(),_=Object(a.useRef)(s);Object(a.useEffect)((function(){_.current=s}));var R=function(e){return Object(p.c)(e,{position:\"bottom-center\",hideProgressBar:!0,draggable:!1,autoClose:5e3,pauseOnHover:!1,closeOnClick:!0,transition:p.a})};Object(a.useEffect)((function(){var e=w(s);e?(e.winner&&!e.gameTied&&C(\"Winner : \".concat(e.winner)),e.gameTied&&!e.winner&&C(\"Game Tied\")):C(\"Next Player : \".concat(h?\"CREATE\"===t?\"You\":\"X\":\"JOIN\"===t?\"You\":\"O\"))}),[s]),Object(a.useEffect)((function(){return D(),f.on(\"moved\",A),f.on(\"restarted\",(function(){D(),R(\"Game Restarted !\")})),function(){f.off(\"moved\",A)}}),[]);var A=function(e){var t=Object(b.a)(_.current);t[e.position]=e.player,i(t),v(\"X\"===e.next);var n=w(t);n&&S(!0),(null===n||void 0===n?void 0:n.gameTied)&&R(\"Game Tied\"),(null===n||void 0===n?void 0:n.winner)&&(n.winner===G?R(\"You won \\ud83c\\udf89\\ufe0f\"):R(\"You lost\"))},D=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.next=3,fetch(\"\".concat(m,\"api/fetch/game/\").concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:\"success\"===(a=e.sent).result?(i(a.board),v(\"X\"===a.next),w(a.board)&&S(!0)):\"fail\"===a.result&&J.replace({pathname:\"/\"});case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){return Object(O.jsx)(g,{value:s[e],onClick:function(){return function(e){var a=s.slice(),r=w(s);r||s[e]?(null===r||void 0===r?void 0:r.gameTied)?R(\"Game Tied\"):(null===r||void 0===r?void 0:r.winner)&&(r.winner===G?R(\"You won \\ud83c\\udf89\\ufe0f\"):R(\"You lost\")):\"CREATE\"===t&&h?(a[e]=\"X\",i(a),v(!1),f.emit(\"move\",{player:a[e],position:e,game_id:n})):\"JOIN\"!==t||h||(a[e]=\"O\",i(a),v(!0),f.emit(\"move\",{player:a[e],position:e,game_id:n}))}(e)}})};return Object(O.jsxs)(\"div\",{className:\"flex flex-col space-y-4 items-center\",children:[Object(O.jsx)(\"p\",{className:\"text-gray-500 text-sm md:text-base\",children:N}),Object(O.jsxs)(\"div\",{children:[Object(O.jsxs)(\"div\",{className:\"board-row\",children:[P(0),P(1),P(2)]}),Object(O.jsxs)(\"div\",{className:\"board-row\",children:[P(3),P(4),P(5)]}),Object(O.jsxs)(\"div\",{className:\"board-row\",children:[P(6),P(7),P(8)]})]}),Object(O.jsxs)(\"p\",{children:[\"Playing as : \",Object(O.jsx)(\"b\",{children:G})]}),E&&Object(O.jsx)(\"button\",{onClick:function(){return f.emit(\"restartGame\",{game_id:n})},children:\"Restart\"})]})};function w(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(j.a)(t[n],3),r=a[0],c=a[1],s=a[2];if(e[r]&&e[r]===e[c]&&e[r]===e[s])return{winner:e[r],gameTied:!1}}return!1===e.includes(null)?{winner:null,gameTied:!0}:null}var y=function(){var e,t,n=Object(a.useState)(0),r=Object(j.a)(n,2),c=r[0],s=r[1],l=Object(o.g)(),b=Object(o.f)(),m=function(e){return s(e.online.length)},h=null===(e=l.state)||void 0===e?void 0:e.gameId,p=(null===(t=l.state)||void 0===t?void 0:t.mode)||\"JOIN\",g=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(h.toString());case 2:e.sent||b.replace({pathname:\"/\"});case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){void 0!==l.state&&h&&g()}),[]),Object(a.useEffect)((function(){return void 0!==l.state&&h&&f.emit(\"join\",{game_id:h,player:\"CREATE\"===p?\"X\":\"O\"}),f.on(\"connected\",m),f.on(\"disconnected\",m),function(){f.emit(\"leave\",{game_id:h,player:\"CREATE\"===p?\"X\":\"O\"}),f.off(\"connected\")}}),[]),l.state&&h||b.replace({pathname:\"/\"}),Object(O.jsxs)(\"div\",{className:\"flex flex-col items-center px-4\",style:{height:window.innerHeight},children:[Object(O.jsx)(i.b,{to:\"/\",className:\"underline text-gray-500\",children:\"Go Home\"}),Object(O.jsxs)(\"p\",{className:\"self-end md:text-lg\",children:[\"Joined: \",c]}),Object(O.jsx)(\"div\",{className:\"flex-grow-1 h-full justify-center flex flex-col\",children:Object(O.jsx)(v,{gameId:h,mode:p})}),Object(O.jsxs)(\"a\",{target:\"_blank\",href:window.location.origin+\"/join/\"+h,className:\"my-4 text-gray-500 text-sm md:text-base\",rel:\"noreferrer\",children:[\"Game: \",h]})]})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"An error occured\";return Object(p.c)(e,{position:\"bottom-center\",hideProgressBar:!0,draggable:!1,autoClose:5e3,pauseOnHover:!1,closeOnClick:!0,transition:p.a,type:\"error\"})},N=function(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(j.a)(c,2),i=s[0],l=s[1],b=Object(a.useState)(null),h=Object(j.a)(b,2),f=h[0],g=h[1],v=Object(a.useState)(!1),w=Object(j.a)(v,2),y=w[0],N=w[1],C=Object(a.useState)(!1),T=Object(j.a)(C,2),I=T[0],E=T[1],S=Object(a.useState)(!1),G=Object(j.a)(S,2),J=G[0],_=G[1],R=Object(a.useState)(!1),A=Object(j.a)(R,2),D=A[0],P=A[1],Y=Object(o.f)(),X=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),_(!0),e.prev=2,e.next=5,fetch(\"\".concat(m,\"api/create/game\"));case 5:return t=e.sent,e.next=8,t.json();case 8:\"success\"===(n=e.sent).result&&(r(n.game_id),_(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),_(!1),k();case 17:case\"end\":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt(\"return\",null);case 2:return e.prev=2,P(!0),e.next=6,x(f);case 6:(t=e.sent)?(l(!0),P(!1),2!==t.online?Y.push({pathname:\"/game\",state:{gameId:f,mode:\"JOIN\"}}):N(!0)):(N(!1),l(!1),P(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0),k(),P(!1);case 15:case\"end\":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(\"div\",{className:\"flex flex-col w-screen  items-center justify-center px-4\",style:{height:window.innerHeight},children:[Object(O.jsxs)(\"div\",{className:\"flex flex-col space-y-4 h-full items-center justify-center\",children:[Object(O.jsxs)(\"span\",{className:\"flex\",children:[Object(O.jsx)(\"p\",{className:\"text-4xl font-bold mt-2\",children:\"Tic-Tac-Toe\"}),Object(O.jsx)(\"p\",{className:\"font-light text-xl \",children:\"Online\"})]}),Object(O.jsx)(\"h3\",{className:\"text-xl text-center pt-4\",children:\"Get Started\"}),Object(O.jsxs)(\"div\",{className:\"flex space-x-4 flex-wrap\",children:[Object(O.jsx)(\"form\",{action:\"'+API_URL+'/computer\",method:\"post\",children:Object(O.jsx)(\"button\",{className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",type:\"submit\",children:\"vs. Computer\"})}),Object(O.jsx)(\"button\",{className:\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\",onClick:X,children:J?\"Creating...\":\"Create a new game\"}),Object(O.jsx)(\"button\",{onClick:function(){return E(!I)},className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",children:D?\"Joining...\":\"Join a game\"})]}),n&&Object(O.jsxs)(\"div\",{className:\"flex items-center flex-col text-center py-4 px-4\",children:[Object(O.jsxs)(\"h4\",{className:\"text-lg font-semibold\",children:[\"Game Created.\",Object(O.jsx)(\"br\",{}),\"Game ID : \",n]}),Object(O.jsx)(\"p\",{className:\"text-sm md:text-base\",children:\"Ask the other player to enter this ID while Joining the game. Or use the link below (Tap to copy) :\"}),Object(O.jsx)(\"button\",{onClick:function(){return function(e){var t;null===(t=navigator.clipboard)||void 0===t||t.writeText(e),Object(p.c)(\"Copied\",{position:\"bottom-center\",hideProgressBar:!0,draggable:!1,autoClose:5e3,pauseOnHover:!1,closeOnClick:!0,transition:p.a,bodyClassName:\"flex items-center flex-row  text-black rounded-lg\"})}(window.location+\"join/\"+n)},className:\"my-4 text-gray-700\",children:window.location+\"join/\"+n}),void 0!==navigator.share&&Object(O.jsx)(\"button\",{className:\"text-lg font-medium \",onClick:function(){return function(e){if(navigator.share)try{navigator.share({title:\"Tic Tac Toe Online\",text:\"You're invited to play Tic Tac Toe Online\",url:e})}catch(t){console.error(t)}else console.error(\"Sharing not supported\")}(window.location+\"join/\"+n)},children:\"Share\"}),Object(O.jsx)(\"button\",{className:\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\",onClick:function(){return Y.push({pathname:\"/game\",state:{gameId:n,mode:\"CREATE\"}})},children:\"Start Game\"})]}),I&&Object(O.jsxs)(\"div\",{className:\"\",children:[Object(O.jsxs)(\"div\",{className:\"flex flex-row space-x-4 justify-center\",children:[Object(O.jsx)(\"input\",{type:\"text\",name:\"gameID\",id:\"gameID\",className:\"bg-gray-100 px-4 py-3 rounded-md w-48\",placeholder:\"Game ID\",onChange:function(e){g(e.target.value)}}),Object(O.jsx)(\"button\",{className:\"text-white bg-black py-3 px-6\",onClick:H,children:\"Join\"})]}),Object(O.jsxs)(\"div\",{children:[y&&Object(O.jsx)(\"h3\",{className:\"my-4 text-red-700\",children:\"Both players have already joined.\"}),!i&&Object(O.jsx)(\"h3\",{className:\"my-4 text-red-700\",children:\"Game doesn't exist. Create one to start playing.\"})]})]})]}),Object(O.jsxs)(\"div\",{className:\" mb-4 text-center flex flex-col text-sm md:text-base\",children:[Object(O.jsx)(\"a\",{href:\"https://github.com/NiketanG/tic-tac-toe-online\",target:\"_blank\",rel:\"noreferrer\",className:\"underline text-gray-600\",children:\"Learn More\"}),Object(O.jsxs)(\"p\",{children:[\"Designed and Developed by\",\" \",Object(O.jsx)(\"a\",{href:\"http://bit.ly/nikketan\",children:\"Niketan Gulekar\"}),\" \\xa9\",(new Date).getFullYear()]})]})]})},C=function(){var e=Object(o.h)(),t=Object(o.f)(),n=function(){var n=Object(d.a)(u.a.mark((function n(){var a,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(\"\".concat(m,\"api/search/game\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({game_id:e.gameId})});case 2:return a=n.sent,n.next=5,a.json();case 5:\"fail\"===(r=n.sent).result&&(k(\"Game does'nt exist\"),t.replace({pathname:\"/\"})),\"success\"===r.result&&t.replace({pathname:\"/game\",state:{gameId:e.gameId,mode:\"JOIN\"}});case 8:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){n()}),[]),Object(O.jsxs)(\"div\",{className:\"flex flex-col items-center justify-center h-screen \",children:[Object(O.jsx)(\"p\",{className:\"text-2xl md:text-4xl my-2\",children:\"Joining Game\"}),Object(O.jsxs)(\"p\",{className:\"my-8\",children:[\"Game ID: \",e.gameId]})]})},T=(n(95),n(96),function(){return Object(O.jsxs)(i.a,{children:[Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:\"/\",component:N}),Object(O.jsx)(o.a,{path:\"/game\",component:y}),Object(O.jsx)(o.a,{path:\"/join/:gameId\",component:C})]}),Object(O.jsx)(p.b,{limit:3})]})});s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById(\"root\"))}},[[97,1,2]]]);","name":"static/js/main.87ada0f2.chunk.js","map":{"version":3,"sources":["static/js/main.87ada0f2.chunk.js"],"names":["this","push","89","module","exports","__webpack_require__","95","97","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","regenerator","regenerator_default","asyncToGenerator","toConsumableArray","slicedToArray","API_URL","searchGame_searchGame","_ref","Object","a","mark","_callee","gameId","res","data","wrap","_context","prev","next","fetch","concat","method","headers","Content-Type","body","JSON","stringify","game_id","sent","json","result","abrupt","gameExists","online","stop","_x","apply","arguments","build","utils_socket","withCredentials","react_toastify_esm","jsx_runtime","Game_Square","onClick","value","className","children","Game_Board","_ref2","mode","_useState","_useState2","squares","setSquares","_useState3","_useState4","xIsNext","setXIsNext","_useState5","_useState6","gameStatus","setGameStatus","_useState7","_useState8","enableRestart","setEnableRestart","playingAs","history","squaresRef","current","showToast","text","position","hideProgressBar","draggable","autoClose","pauseOnHover","closeOnClick","transition","gameResult","calculateWinner","winner","gameTied","getBoard","on","updateBoard","off","updatedSquares","player","_ref3","board","replace","pathname","renderSquare","i","tempSquares","slice","emit","handleClick","boardData","lines","length","_lines$i","b","c","includes","pages_Game","_location$state","_location$state2","_useState9","_useState10","setOnline","location","connected","state","checkIfGameExists","_ref4","_callee2","_context2","toString","undefined","style","height","window","innerHeight","to","target","href","origin","rel","errorToast_errorToast","type","pages_Home","setGameId","setGameExists","gameIdToJoin","setGameIdToJoin","bothJoined","setBothJoined","joinGameInput","setJoinGameInput","_useState11","_useState12","creatingGame","setCreatingGame","_useState13","_useState14","joiningGame","setJoiningGame","createGame","t0","console","error","joinGame","_gameExists","action","link","_navigator$clipboard","navigator","clipboard","writeText","bodyClassName","copyLink","share","title","url","err","shareLink","name","id","placeholder","onChange","e","Date","getFullYear","pages_Join","params","searchGame","src_Main","exact","path","component","limit","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpweb\"] = this[\"webpackJsonpweb\"] || []).push([[0],{\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(25);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(53);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/utils/constants.ts\nvar API_URL= false?undefined:\"/\";\n// CONCATENATED MODULE: ./src/utils/searchGame.ts\nvar searchGame_searchGame=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(gameId){var res,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_URL,\"api/search/game\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({game_id:gameId})});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(!(data.result===\"fail\")){_context.next=8;break;}return _context.abrupt(\"return\",{gameExists:false,online:0});case 8:if(!(data.result===\"success\")){_context.next=10;break;}return _context.abrupt(\"return\",{gameExists:true,online:data.online});case 10:return _context.abrupt(\"return\",{gameExists:false,online:0});case 11:case\"end\":return _context.stop();}}},_callee);}));return function searchGame(_x){return _ref.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(51);\n\n// CONCATENATED MODULE: ./src/utils/socket.ts\nvar socket_url= false?undefined:\"/\";var socket=Object(build[\"io\"])(\"\".concat(socket_url,\"game\"),{withCredentials:true});/* harmony default export */ var utils_socket = (socket);\n// EXTERNAL MODULE: ./src/pages/Game/game.css\nvar game = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/react-toastify.esm.js + 1 modules\nvar react_toastify_esm = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/pages/Game/index.tsx\nvar Game_Square=function Square(_ref){var onClick=_ref.onClick,value=_ref.value;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"square\",onClick:onClick,children:value});};var Game_Board=function Board(_ref2){var mode=_ref2.mode,gameId=_ref2.gameId;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),squares=_useState2[0],setSquares=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),xIsNext=_useState4[0],setXIsNext=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gameStatus=_useState6[0],setGameStatus=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),enableRestart=_useState8[0],setEnableRestart=_useState8[1];var playingAs=mode===\"CREATE\"?\"X\":\"O\";var history=Object(react_router[\"f\" /* useHistory */])();var squaresRef=Object(react[\"useRef\"])(squares);Object(react[\"useEffect\"])(function(){squaresRef.current=squares;});var showToast=function showToast(text){return Object(react_toastify_esm[\"c\" /* toast */])(text,{position:\"bottom-center\",hideProgressBar:true,draggable:false,autoClose:5000,pauseOnHover:false,closeOnClick:true,transition:react_toastify_esm[\"a\" /* Slide */]});};Object(react[\"useEffect\"])(function(){var gameResult=calculateWinner(squares);if(gameResult){if(gameResult.winner&&!gameResult.gameTied){setGameStatus(\"Winner : \".concat(gameResult.winner));}if(gameResult.gameTied&&!gameResult.winner){setGameStatus(\"Game Tied\");}}else{setGameStatus(\"Next Player : \".concat(xIsNext?mode===\"CREATE\"?\"You\":\"X\":mode===\"JOIN\"?\"You\":\"O\"));}},[squares]);Object(react[\"useEffect\"])(function(){getBoard();utils_socket.on(\"moved\",updateBoard);utils_socket.on(\"restarted\",function(){getBoard();showToast(\"Game Restarted !\");});return function(){utils_socket.off(\"moved\",updateBoard);};},[]);var updateBoard=function updateBoard(data){var updatedSquares=Object(toConsumableArray[\"a\" /* default */])(squaresRef.current);updatedSquares[data.position]=data.player;setSquares(updatedSquares);setXIsNext(data.next===\"X\");var gameResult=calculateWinner(updatedSquares);if(gameResult)setEnableRestart(true);if(gameResult===null||gameResult===void 0?void 0:gameResult.gameTied){showToast(\"Game Tied\");}if(gameResult===null||gameResult===void 0?void 0:gameResult.winner){if(gameResult.winner===playingAs){showToast(\"You won 🎉️\");}else{showToast(\"You lost\");}}};var getBoard=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res,data,status;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setEnableRestart(false);_context.next=3;return fetch(\"\".concat(API_URL,\"api/fetch/game/\").concat(gameId));case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;if(data.result===\"success\"){setSquares(data.board);setXIsNext(data.next===\"X\");status=calculateWinner(data.board);if(status)setEnableRestart(true);}else if(data.result===\"fail\"){history.replace({pathname:\"/\"});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getBoard(){return _ref3.apply(this,arguments);};}();var handleClick=function handleClick(i){var tempSquares=squares.slice();var gameResult=calculateWinner(squares);if(gameResult||squares[i]){if(gameResult===null||gameResult===void 0?void 0:gameResult.gameTied){showToast(\"Game Tied\");}else if(gameResult===null||gameResult===void 0?void 0:gameResult.winner){if(gameResult.winner===playingAs){showToast(\"You won 🎉️\");}else{showToast(\"You lost\");}}return;}if(mode===\"CREATE\"&&xIsNext){tempSquares[i]=\"X\";setSquares(tempSquares);setXIsNext(false);utils_socket.emit(\"move\",{player:tempSquares[i],position:i,game_id:gameId});}else if(mode===\"JOIN\"&&!xIsNext){tempSquares[i]=\"O\";setSquares(tempSquares);setXIsNext(true);utils_socket.emit(\"move\",{player:tempSquares[i],position:i,game_id:gameId});}};var renderSquare=function renderSquare(i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Game_Square,{value:squares[i],onClick:function onClick(){return handleClick(i);}});};var restartGame=function restartGame(){return utils_socket.emit(\"restartGame\",{game_id:gameId});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-col space-y-4 items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text-gray-500 text-sm md:text-base\",children:gameStatus}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"board-row\",children:[renderSquare(0),renderSquare(1),renderSquare(2)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"board-row\",children:[renderSquare(3),renderSquare(4),renderSquare(5)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"board-row\",children:[renderSquare(6),renderSquare(7),renderSquare(8)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Playing as : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:playingAs})]}),enableRestart&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:restartGame,children:\"Restart\"})]});};function calculateWinner(boardData){var lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<lines.length;i++){var _lines$i=Object(slicedToArray[\"a\" /* default */])(lines[i],3),a=_lines$i[0],b=_lines$i[1],c=_lines$i[2];if(boardData[a]&&boardData[a]===boardData[b]&&boardData[a]===boardData[c]){return{winner:boardData[a],gameTied:false};}}if(boardData.includes(null)===false){return{winner:null,gameTied:true};}return null;}var Game_Game=function Game(){var _location$state,_location$state2;var _useState9=Object(react[\"useState\"])(0),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),online=_useState10[0],setOnline=_useState10[1];var location=Object(react_router[\"g\" /* useLocation */])();var history=Object(react_router[\"f\" /* useHistory */])();var connected=function connected(data){return setOnline(data.online.length);};var gameId=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.gameId;var mode=((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.mode)||\"JOIN\";var checkIfGameExists=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var gameExists;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return searchGame_searchGame(gameId.toString());case 2:gameExists=_context2.sent;if(!gameExists){history.replace({pathname:\"/\"});}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function checkIfGameExists(){return _ref4.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){if(location.state!==undefined&&gameId)checkIfGameExists();},[]);Object(react[\"useEffect\"])(function(){if(location.state!==undefined&&gameId)utils_socket.emit(\"join\",{game_id:gameId,player:mode===\"CREATE\"?\"X\":\"O\"});utils_socket.on(\"connected\",connected);utils_socket.on(\"disconnected\",connected);return function(){utils_socket.emit(\"leave\",{game_id:gameId,player:mode===\"CREATE\"?\"X\":\"O\"});utils_socket.off(\"connected\");};},[]);if(!location.state||!gameId)history.replace({pathname:\"/\"});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-col items-center px-4\",style:{height:window.innerHeight},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",className:\"underline text-gray-500\",children:\"Go Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"self-end md:text-lg\",children:[\"Joined: \",online]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-grow-1 h-full justify-center flex flex-col\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Game_Board,{gameId:gameId,mode:mode})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\",{target:\"_blank\",href:window.location.origin+\"/join/\"+gameId,className:\"my-4 text-gray-500 text-sm md:text-base\",rel:\"noreferrer\",children:[\"Game: \",gameId]})]});};/* harmony default export */ var pages_Game = (Game_Game);\n// CONCATENATED MODULE: ./src/utils/errorToast.ts\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nvar errorToast_errorToast=function errorToast(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"An error occured\";return Object(react_toastify_esm[\"c\" /* toast */])(text,{position:\"bottom-center\",hideProgressBar:true,draggable:false,autoClose:5000,pauseOnHover:false,closeOnClick:true,transition:react_toastify_esm[\"a\" /* Slide */],type:\"error\"});};\n// CONCATENATED MODULE: ./src/pages/Home/index.tsx\nvar Home_Home=function Home(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),gameId=_useState2[0],setGameId=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),gameExists=_useState4[0],setGameExists=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gameIdToJoin=_useState6[0],setGameIdToJoin=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),bothJoined=_useState8[0],setBothJoined=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),joinGameInput=_useState10[0],setJoinGameInput=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),creatingGame=_useState12[0],setCreatingGame=_useState12[1];var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),joiningGame=_useState14[0],setJoiningGame=_useState14[1];var history=Object(react_router[\"f\" /* useHistory */])();var createGame=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setJoinGameInput(false);setCreatingGame(true);_context.prev=2;_context.next=5;return fetch(\"\".concat(API_URL,\"api/create/game\"));case 5:res=_context.sent;_context.next=8;return res.json();case 8:data=_context.sent;if(data.result===\"success\"){setGameId(data.game_id);setCreatingGame(false);}_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setCreatingGame(false);errorToast_errorToast();case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function createGame(){return _ref.apply(this,arguments);};}();//vs Computer [1]\n//const vsComputer = () =>\n//\thistory.push({\n//\t\tpathname: \"/computer\"\n//\t});\nvar toggleJoinGameInput=function toggleJoinGameInput(){return setJoinGameInput(!joinGameInput);};var startGame=function startGame(){return history.push({pathname:\"/game\",state:{gameId:gameId,mode:\"CREATE\"}});};var joinGame=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var _gameExists;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(gameIdToJoin){_context2.next=2;break;}return _context2.abrupt(\"return\",null);case 2:_context2.prev=2;setJoiningGame(true);_context2.next=6;return searchGame_searchGame(gameIdToJoin);case 6:_gameExists=_context2.sent;if(_gameExists){setGameExists(true);setJoiningGame(false);if(_gameExists.online!==2){history.push({pathname:\"/game\",state:{gameId:gameIdToJoin,mode:\"JOIN\"}});}else{setBothJoined(true);}}else{setBothJoined(false);setGameExists(false);setJoiningGame(false);}_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);console.error(_context2.t0);errorToast_errorToast();setJoiningGame(false);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function joinGame(){return _ref2.apply(this,arguments);};}();var copyLink=function copyLink(link){var _navigator$clipboard;(_navigator$clipboard=navigator.clipboard)===null||_navigator$clipboard===void 0?void 0:_navigator$clipboard.writeText(link);Object(react_toastify_esm[\"c\" /* toast */])(\"Copied\",{position:\"bottom-center\",hideProgressBar:true,draggable:false,autoClose:5000,pauseOnHover:false,closeOnClick:true,transition:react_toastify_esm[\"a\" /* Slide */],bodyClassName:\"flex items-center flex-row  text-black rounded-lg\"});};var shareLink=function shareLink(link){if(navigator.share){try{navigator.share({title:\"Tic Tac Toe Online\",text:\"You're invited to play Tic Tac Toe Online\",url:link});}catch(err){console.error(err);}}else{console.error(\"Sharing not supported\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-col w-screen  items-center justify-center px-4\",style:{height:window.innerHeight},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-col space-y-4 h-full items-center justify-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text-4xl font-bold mt-2\",children:\"Tic-Tac-Toe\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"font-light text-xl \",children:\"Online\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"text-xl text-center pt-4\",children:\"Get Started\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex space-x-4 flex-wrap\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{action:\"'+API_URL+'/computer\",method:\"post\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",type:\"submit\",children:\"vs. Computer\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\",onClick:createGame,children:creatingGame?\"Creating...\":\"Create a new game\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:toggleJoinGameInput,className:\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\",children:joiningGame?\"Joining...\":\"Join a game\"})]}),gameId&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center flex-col text-center py-4 px-4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{className:\"text-lg font-semibold\",children:[\"Game Created.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Game ID : \",gameId]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text-sm md:text-base\",children:\"Ask the other player to enter this ID while Joining the game. Or use the link below (Tap to copy) :\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return copyLink(window.location+\"join/\"+gameId);},className:\"my-4 text-gray-700\",children:window.location+\"join/\"+gameId}),navigator.share!==undefined&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"text-lg font-medium \",onClick:function onClick(){return shareLink(window.location+\"join/\"+gameId);},children:\"Share\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\",onClick:startGame,children:\"Start Game\"})]}),joinGameInput&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-row space-x-4 justify-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"gameID\",id:\"gameID\",className:\"bg-gray-100 px-4 py-3 rounded-md w-48\",placeholder:\"Game ID\",onChange:function onChange(e){setGameIdToJoin(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"text-white bg-black py-3 px-6\",onClick:joinGame,children:\"Join\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[bothJoined&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"my-4 text-red-700\",children:\"Both players have already joined.\"}),!gameExists&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"my-4 text-red-700\",children:\"Game doesn't exist. Create one to start playing.\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\" mb-4 text-center flex flex-col text-sm md:text-base\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/NiketanG/tic-tac-toe-online\",target:\"_blank\",rel:\"noreferrer\",className:\"underline text-gray-600\",children:\"Learn More\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Designed and Developed by\",\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"http://bit.ly/nikketan\",children:\"Niketan Gulekar\"}),\" \\xA9\",new Date().getFullYear()]})]})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Join/index.tsx\nvar Join_Join=function Join(){var params=Object(react_router[\"h\" /* useParams */])();var history=Object(react_router[\"f\" /* useHistory */])();var searchGame=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_URL,\"api/search/game\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({game_id:params.gameId})});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(data.result===\"fail\"){errorToast_errorToast(\"Game does'nt exist\");history.replace({pathname:\"/\"});}if(data.result===\"success\")history.replace({pathname:\"/game\",state:{gameId:params.gameId,mode:\"JOIN\"}});case 8:case\"end\":return _context.stop();}}},_callee);}));return function searchGame(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){searchGame();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-col items-center justify-center h-screen \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text-2xl md:text-4xl my-2\",children:\"Joining Game\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"my-8\",children:[\"Game ID: \",params.gameId]})]});};/* harmony default export */ var pages_Join = (Join_Join);\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(95);\n\n// EXTERNAL MODULE: ./node_modules/react-toastify/dist/ReactToastify.css\nvar ReactToastify = __webpack_require__(96);\n\n// CONCATENATED MODULE: ./src/index.tsx\nvar src_Main=function Main(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",component:pages_Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/game\",component:pages_Game}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/join/:gameId\",component:pages_Join})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_toastify_esm[\"b\" /* ToastContainer */],{limit:3})]});};react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Main,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[97,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\src\\pages\\Game\\game.css","C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Asus\\Documents\\GitHub\\tictactoe\\web\\src\\styles\\index.css","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/utils/constants.ts","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/utils/searchGame.ts","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/utils/socket.ts","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/pages/Game/index.tsx","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/utils/errorToast.ts","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/pages/Home/index.tsx","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/pages/Join/index.tsx","C:/Users/Asus/Documents/GitHub/tictactoe/web/src/index.tsx"],"names":["API_URL","process","searchGame","gameId","fetch","method","headers","body","JSON","stringify","game_id","res","json","data","result","gameExists","online","socket_url","socket","io","withCredentials","Square","onClick","value","Board","mode","useState","squares","setSquares","xIsNext","setXIsNext","gameStatus","setGameStatus","enableRestart","setEnableRestart","playingAs","history","useHistory","squaresRef","useRef","useEffect","current","showToast","text","toast","position","hideProgressBar","draggable","autoClose","pauseOnHover","closeOnClick","transition","Slide","gameResult","calculateWinner","winner","gameTied","getBoard","on","updateBoard","off","updatedSquares","player","next","board","status","replace","pathname","handleClick","i","tempSquares","slice","emit","renderSquare","restartGame","boardData","lines","length","a","b","c","includes","Game","setOnline","location","useLocation","connected","state","checkIfGameExists","toString","undefined","height","window","innerHeight","origin","errorToast","type","Home","setGameId","setGameExists","gameIdToJoin","setGameIdToJoin","bothJoined","setBothJoined","joinGameInput","setJoinGameInput","creatingGame","setCreatingGame","joiningGame","setJoiningGame","createGame","console","error","toggleJoinGameInput","startGame","push","joinGame","copyLink","link","navigator","clipboard","writeText","bodyClassName","shareLink","share","title","url","err","e","target","Date","getFullYear","Join","params","useParams","Main","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export const API_URL =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? process.env.REACT_APP_API_URL\n\t\t: \"/\";\n","import { API_URL } from \"./constants\";\nimport { GameExistsResponse, SearchResponse } from \"./types\";\n\nexport const searchGame = async (\n\tgameId: string\n): Promise<GameExistsResponse> => {\n\tconst res = await fetch(`${API_URL}api/search/game`, {\n\t\tmethod: \"POST\",\n\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\tbody: JSON.stringify({ game_id: gameId }),\n\t});\n\tconst data: SearchResponse = await res.json();\n\n\tif (data.result === \"fail\")\n\t\treturn {\n\t\t\tgameExists: false,\n\t\t\tonline: 0,\n\t\t};\n\tif (data.result === \"success\")\n\t\treturn {\n\t\t\tgameExists: true,\n\t\t\tonline: data.online,\n\t\t};\n\treturn {\n\t\tgameExists: false,\n\t\tonline: 0,\n\t};\n};\n","import { io } from \"socket.io-client\";\n\nconst socket_url =\n\tprocess.env.NODE_ENV === \"development\"\n\t\t? process.env.REACT_APP_API_URL || \"\"\n\t\t: \"/\";\n\nconst socket = io(`${socket_url}game`, {\n\twithCredentials: true,\n});\n\nexport default socket;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { API_URL } from \"../../utils/constants\";\nimport { searchGame } from \"../../utils/searchGame\";\nimport socket from \"../../utils/socket\";\nimport \"./game.css\";\nimport { toast, Slide } from \"react-toastify\";\n\ntype SquareProps = {\n\tonClick: React.MouseEventHandler<HTMLButtonElement> | undefined;\n\tvalue: string | null;\n};\n\nconst Square: React.FC<SquareProps> = ({ onClick, value }) => (\n\t<button className=\"square\" onClick={onClick}>\n\t\t{value}\n\t</button>\n);\n\ntype BoardProps = {\n\tmode: \"CREATE\" | \"JOIN\";\n\tgameId: number;\n};\n\ntype FetchGameResponse = {\n\tresult: \"fail\" | \"success\";\n\tboard: Array<string | null>;\n\tnext: \"X\" | \"O\";\n};\n\ntype UpdateBoardResponse = {\n\tposition: number;\n\tnext: \"X\" | \"O\";\n\tplayer: any;\n};\nconst Board: React.FC<BoardProps> = ({ mode, gameId }) => {\n\tconst [squares, setSquares] = useState<Array<string | null>>([]);\n\tconst [xIsNext, setXIsNext] = useState(true);\n\tconst [gameStatus, setGameStatus] = useState<string | null>(null);\n\tconst [enableRestart, setEnableRestart] = useState(false);\n\n\tconst playingAs = mode === \"CREATE\" ? \"X\" : \"O\";\n\n\tconst history = useHistory();\n\n\tconst squaresRef = useRef(squares);\n\n\tuseEffect(() => {\n\t\tsquaresRef.current = squares;\n\t});\n\n\tconst showToast = (text: string) =>\n\t\ttoast(text, {\n\t\t\tposition: \"bottom-center\",\n\t\t\thideProgressBar: true,\n\t\t\tdraggable: false,\n\t\t\tautoClose: 5000,\n\t\t\tpauseOnHover: false,\n\t\t\tcloseOnClick: true,\n\t\t\ttransition: Slide,\n\t\t});\n\tuseEffect(() => {\n\t\tconst gameResult = calculateWinner(squares);\n\t\tif (gameResult) {\n\t\t\tif (gameResult.winner && !gameResult.gameTied) {\n\t\t\t\tsetGameStatus(`Winner : ${gameResult.winner}`);\n\t\t\t}\n\t\t\tif (gameResult.gameTied && !gameResult.winner) {\n\t\t\t\tsetGameStatus(\"Game Tied\");\n\t\t\t}\n\t\t} else {\n\t\t\tsetGameStatus(\n\t\t\t\t`Next Player : ${\n\t\t\t\t\txIsNext\n\t\t\t\t\t\t? mode === \"CREATE\"\n\t\t\t\t\t\t\t? \"You\"\n\t\t\t\t\t\t\t: \"X\"\n\t\t\t\t\t\t: mode === \"JOIN\"\n\t\t\t\t\t\t? \"You\"\n\t\t\t\t\t\t: \"O\"\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\t}, [squares]);\n\n\tuseEffect(() => {\n\t\tgetBoard();\n\t\tsocket.on(\"moved\", updateBoard);\n\t\tsocket.on(\"restarted\", () => {\n\t\t\tgetBoard();\n\t\t\tshowToast(\"Game Restarted !\");\n\t\t});\n\t\treturn () => {\n\t\t\tsocket.off(\"moved\", updateBoard);\n\t\t};\n\t}, []);\n\n\tconst updateBoard = (data: UpdateBoardResponse) => {\n\t\tconst updatedSquares = [...squaresRef.current];\n\t\tupdatedSquares[data.position] = data.player;\n\t\tsetSquares(updatedSquares);\n\t\tsetXIsNext(data.next === \"X\");\n\t\tconst gameResult = calculateWinner(updatedSquares);\n\t\tif (gameResult) setEnableRestart(true);\n\t\tif (gameResult?.gameTied) {\n\t\t\tshowToast(\"Game Tied\");\n\t\t}\n\n\t\tif (gameResult?.winner) {\n\t\t\tif (gameResult.winner === playingAs) {\n\t\t\t\tshowToast(\"You won 🎉️\");\n\t\t\t} else {\n\t\t\t\tshowToast(\"You lost\");\n\t\t\t}\n\t\t}\n\t};\n\n\tconst getBoard = async () => {\n\t\tsetEnableRestart(false);\n\t\tconst res = await fetch(`${API_URL}api/fetch/game/${gameId}`);\n\t\tconst data: FetchGameResponse = await res.json();\n\t\tif (data.result === \"success\") {\n\t\t\tsetSquares(data.board);\n\t\t\tsetXIsNext(data.next === \"X\");\n\t\t\tconst status = calculateWinner(data.board);\n\t\t\tif (status) setEnableRestart(true);\n\t\t} else if (data.result === \"fail\") {\n\t\t\thistory.replace({ pathname: \"/\" });\n\t\t}\n\t};\n\n\tconst handleClick = (i: number) => {\n\t\tconst tempSquares = squares.slice();\n\t\tconst gameResult = calculateWinner(squares);\n\n\t\tif (gameResult || squares[i]) {\n\t\t\tif (gameResult?.gameTied) {\n\t\t\t\tshowToast(\"Game Tied\");\n\t\t\t} else if (gameResult?.winner) {\n\t\t\t\tif (gameResult.winner === playingAs) {\n\t\t\t\t\tshowToast(\"You won 🎉️\");\n\t\t\t\t} else {\n\t\t\t\t\tshowToast(\"You lost\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (mode === \"CREATE\" && xIsNext) {\n\t\t\ttempSquares[i] = \"X\";\n\t\t\tsetSquares(tempSquares);\n\t\t\tsetXIsNext(false);\n\t\t\tsocket.emit(\"move\", {\n\t\t\t\tplayer: tempSquares[i],\n\t\t\t\tposition: i,\n\t\t\t\tgame_id: gameId,\n\t\t\t});\n\t\t} else if (mode === \"JOIN\" && !xIsNext) {\n\t\t\ttempSquares[i] = \"O\";\n\t\t\tsetSquares(tempSquares);\n\t\t\tsetXIsNext(true);\n\t\t\tsocket.emit(\"move\", {\n\t\t\t\tplayer: tempSquares[i],\n\t\t\t\tposition: i,\n\t\t\t\tgame_id: gameId,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst renderSquare = (i: number) => (\n\t\t<Square value={squares[i]} onClick={() => handleClick(i)} />\n\t);\n\n\tconst restartGame = () => socket.emit(\"restartGame\", { game_id: gameId });\n\n\treturn (\n\t\t<div className=\"flex flex-col space-y-4 items-center\">\n\t\t\t<p className=\"text-gray-500 text-sm md:text-base\">{gameStatus}</p>\n\n\t\t\t<div>\n\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t{renderSquare(0)}\n\t\t\t\t\t{renderSquare(1)}\n\t\t\t\t\t{renderSquare(2)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t{renderSquare(3)}\n\t\t\t\t\t{renderSquare(4)}\n\t\t\t\t\t{renderSquare(5)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t{renderSquare(6)}\n\t\t\t\t\t{renderSquare(7)}\n\t\t\t\t\t{renderSquare(8)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<p>\n\t\t\t\tPlaying as : <b>{playingAs}</b>\n\t\t\t</p>\n\t\t\t{enableRestart && <button onClick={restartGame}>Restart</button>}\n\t\t</div>\n\t);\n};\n\nfunction calculateWinner(boardData: Array<string | null>) {\n\tconst lines = [\n\t\t[0, 1, 2],\n\t\t[3, 4, 5],\n\t\t[6, 7, 8],\n\t\t[0, 3, 6],\n\t\t[1, 4, 7],\n\t\t[2, 5, 8],\n\t\t[0, 4, 8],\n\t\t[2, 4, 6],\n\t];\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tconst [a, b, c] = lines[i];\n\t\tif (\n\t\t\tboardData[a] &&\n\t\t\tboardData[a] === boardData[b] &&\n\t\t\tboardData[a] === boardData[c]\n\t\t) {\n\t\t\treturn {\n\t\t\t\twinner: boardData[a],\n\t\t\t\tgameTied: false,\n\t\t\t};\n\t\t}\n\t}\n\tif (boardData.includes(null) === false) {\n\t\treturn {\n\t\t\twinner: null,\n\t\t\tgameTied: true,\n\t\t};\n\t}\n\treturn null;\n}\n\ntype LocationStateType = {\n\tgameId: number;\n\tmode: \"CREATE\" | \"JOIN\";\n};\n\ntype SocketConnectedData = {\n\tgame_id: string;\n\tonline: string[];\n};\n\nconst Game: React.FC<any> = () => {\n\tconst [online, setOnline] = useState(0);\n\n\tconst location = useLocation();\n\tconst history = useHistory();\n\n\tconst connected = (data: SocketConnectedData) =>\n\t\tsetOnline(data.online.length);\n\n\tconst gameId = (location.state as LocationStateType)?.gameId;\n\tconst mode = (location.state as LocationStateType)?.mode || \"JOIN\";\n\n\tconst checkIfGameExists = async () => {\n\t\tconst gameExists = await searchGame(gameId.toString());\n\t\tif (!gameExists) {\n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/\",\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (location.state !== undefined && gameId) checkIfGameExists();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (location.state !== undefined && gameId)\n\t\t\tsocket.emit(\"join\", {\n\t\t\t\tgame_id: gameId,\n\t\t\t\tplayer: mode === \"CREATE\" ? \"X\" : \"O\",\n\t\t\t});\n\n\t\tsocket.on(\"connected\", connected);\n\t\tsocket.on(\"disconnected\", connected);\n\t\treturn () => {\n\t\t\tsocket.emit(\"leave\", {\n\t\t\t\tgame_id: gameId,\n\t\t\t\tplayer: mode === \"CREATE\" ? \"X\" : \"O\",\n\t\t\t});\n\t\t\tsocket.off(\"connected\");\n\t\t};\n\t}, []);\n\n\tif (!location.state || !gameId)\n\t\thistory.replace({\n\t\t\tpathname: \"/\",\n\t\t});\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"flex flex-col items-center px-4\"\n\t\t\tstyle={{\n\t\t\t\theight: window.innerHeight,\n\t\t\t}}\n\t\t>\n\t\t\t<Link to=\"/\" className=\"underline text-gray-500\">\n\t\t\t\tGo Home\n\t\t\t</Link>\n\n\t\t\t<p className=\"self-end md:text-lg\">Joined: {online}</p>\n\n\t\t\t<div className=\"flex-grow-1 h-full justify-center flex flex-col\">\n\t\t\t\t<Board gameId={gameId} mode={mode} />\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\thref={window.location.origin + \"/join/\" + gameId}\n\t\t\t\tclassName=\"my-4 text-gray-500 text-sm md:text-base\"\n\t\t\t\trel=\"noreferrer\"\n\t\t\t>\n\t\t\t\tGame: {gameId}\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\nexport default Game;\n","import { toast, Slide } from \"react-toastify\";\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const errorToast = (text = \"An error occured\") =>\n\ttoast(text, {\n\t\tposition: \"bottom-center\",\n\t\thideProgressBar: true,\n\t\tdraggable: false,\n\t\tautoClose: 5000,\n\t\tpauseOnHover: false,\n\t\tcloseOnClick: true,\n\t\ttransition: Slide,\n\t\ttype: \"error\",\n\t});\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toast, Slide } from \"react-toastify\";\n\nimport { API_URL } from \"../../utils/constants\";\nimport { errorToast } from \"../../utils/errorToast\";\nimport { searchGame } from \"../../utils/searchGame\";\n\nconst Home: React.FC<any> = () => {\n\tconst [gameId, setGameId] = useState(null);\n\tconst [gameExists, setGameExists] = useState(true);\n\tconst [gameIdToJoin, setGameIdToJoin] = useState<string | null>(null);\n\tconst [bothJoined, setBothJoined] = useState(false);\n\tconst [joinGameInput, setJoinGameInput] = useState(false);\n\tconst [creatingGame, setCreatingGame] = useState(false);\n\n\tconst [joiningGame, setJoiningGame] = useState(false);\n\n\tconst history = useHistory();\n\n\tconst createGame = async () => {\n\t\tsetJoinGameInput(false);\n\t\tsetCreatingGame(true);\n\t\ttry {\n\t\t\tconst res = await fetch(`${API_URL}api/create/game`);\n\t\t\tconst data = await res.json();\n\t\t\tif (data.result === \"success\") {\n\t\t\t\tsetGameId(data.game_id);\n\t\t\t\tsetCreatingGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\tsetCreatingGame(false);\n\t\t\terrorToast();\n\t\t}\n\t};\n\n\n\t//vs Computer [1]\n\t//const vsComputer = () =>\n\t//\thistory.push({\n\t//\t\tpathname: \"/computer\"\n\t//\t});\n\n\n\tconst toggleJoinGameInput = () => setJoinGameInput(!joinGameInput);\n\n\tconst startGame = () =>\n\t\thistory.push({\n\t\t\tpathname: \"/game\",\n\t\t\tstate: {\n\t\t\t\tgameId,\n\t\t\t\tmode: \"CREATE\",\n\t\t\t},\n\t\t});\n\n\tconst joinGame = async () => {\n\t\tif (!gameIdToJoin) return null;\n\t\ttry {\n\t\t\tsetJoiningGame(true);\n\n\t\t\tconst gameExists = await searchGame(gameIdToJoin);\n\n\t\t\tif (gameExists) {\n\t\t\t\tsetGameExists(true);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t\tif (gameExists.online !== 2) {\n\t\t\t\t\thistory.push({\n\t\t\t\t\t\tpathname: \"/game\",\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tgameId: gameIdToJoin,\n\t\t\t\t\t\t\tmode: \"JOIN\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsetBothJoined(true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetBothJoined(false);\n\t\t\t\tsetGameExists(false);\n\t\t\t\tsetJoiningGame(false);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(err);\n\t\t\terrorToast();\n\t\t\tsetJoiningGame(false);\n\t\t}\n\t};\n\n\tconst copyLink = (link: string) => {\n\t\tnavigator.clipboard?.writeText(link);\n\t\ttoast(\"Copied\", {\n\t\t\tposition: \"bottom-center\",\n\t\t\thideProgressBar: true,\n\t\t\tdraggable: false,\n\t\t\tautoClose: 5000,\n\t\t\tpauseOnHover: false,\n\t\t\tcloseOnClick: true,\n\t\t\ttransition: Slide,\n\t\t\tbodyClassName: \"flex items-center flex-row  text-black rounded-lg\",\n\t\t});\n\t};\n\n\n\n\tconst shareLink = (link:string) => {\n\t\tif (navigator.share) {\n\t\t\ttry {\n\t\t\t\tnavigator.share({\n\t\t\t\t\ttitle:\"Tic Tac Toe Online\",\n\t\t\t\t\ttext: \"You're invited to play Tic Tac Toe Online\",\n\t\t\t\t\turl: link\n\t\t\t\t})\t\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err)\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tconsole.error(\"Sharing not supported\")\n\t\t}\n\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"flex flex-col w-screen  items-center justify-center px-4\"\n\t\t\tstyle={{\n\t\t\t\theight: window.innerHeight,\n\t\t\t}}\n\t\t>\n\t\t\t<div className=\"flex flex-col space-y-4 h-full items-center justify-center\">\n\t\t\t\t<span className=\"flex\">\n\t\t\t\t\t<p className=\"text-4xl font-bold mt-2\">Tic-Tac-Toe</p>\n\t\t\t\t\t<p className=\"font-light text-xl \">Online</p>\n\t\t\t\t</span>\n\t\t\t\t<h3 className=\"text-xl text-center pt-4\">Get Started</h3>\n\t\t\t\t<div className=\"flex space-x-4 flex-wrap\">\n\t\t\t\t\t<form action = \"'+API_URL+'/computer\"  method = \"post\">\n\t\t\t\t\t<button className=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\" type=\"submit\"\n>vs. Computer</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"bg-black text-white px-4 py-3 hover:bg-white hover:text-black border border-black transition\"\n\t\t\t\t\t\tonClick={createGame}\n\t\t\t\t\t>\n\t\t\t\t\t\t{creatingGame ? \"Creating...\" : \"Create a new game\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={toggleJoinGameInput}\n\t\t\t\t\t\tclassName=\"border border-black bg-transparent text-black hover:bg-black hover:text-white px-4 py-3 transition\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{joiningGame ? \"Joining...\" : \"Join a game\"}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{gameId && (\n\t\t\t\t\t<div className=\"flex items-center flex-col text-center py-4 px-4\">\n\t\t\t\t\t\t<h4 className=\"text-lg font-semibold\">\n\t\t\t\t\t\t\tGame Created.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tGame ID : {gameId}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p className=\"text-sm md:text-base\">\n\t\t\t\t\t\t\tAsk the other player to enter this ID while Joining\n\t\t\t\t\t\t\tthe game. Or use the link below (Tap to copy) :\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tcopyLink(window.location + \"join/\" + gameId)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName=\"my-4 text-gray-700\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{window.location + \"join/\" + gameId}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{navigator.share !== undefined && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"text-lg font-medium \"\n\t\t\t\t\t\tonClick={() => shareLink(window.location + \"join/\" + gameId)}>Share</button>)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"bg-black text-white transition hover:bg-white hover:text-black  w-full md:w-64 py-3 my-4 border border-black\"\n\t\t\t\t\t\t\tonClick={startGame}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart Game\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{joinGameInput && (\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<div className=\"flex flex-row space-x-4 justify-center\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"gameID\"\n\t\t\t\t\t\t\t\tid=\"gameID\"\n\t\t\t\t\t\t\t\tclassName=\"bg-gray-100 px-4 py-3 rounded-md w-48\"\n\t\t\t\t\t\t\t\tplaceholder=\"Game ID\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetGameIdToJoin(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-black py-3 px-6\"\n\t\t\t\t\t\t\t\tonClick={joinGame}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{bothJoined && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tBoth players have already joined.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{!gameExists && (\n\t\t\t\t\t\t\t\t<h3 className=\"my-4 text-red-700\">\n\t\t\t\t\t\t\t\t\tGame doesn&apos;t exist. Create one to start\n\t\t\t\t\t\t\t\t\tplaying.\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\" mb-4 text-center flex flex-col text-sm md:text-base\">\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/NiketanG/tic-tac-toe-online\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\tclassName=\"underline text-gray-600\"\n\t\t\t\t>\n\t\t\t\t\tLearn More\n\t\t\t\t</a>\n\t\t\t\t<p>\n\t\t\t\t\tDesigned and Developed by{\" \"}\n\t\t\t\t\t<a href=\"http://bit.ly/nikketan\">Niketan Gulekar</a> &copy;\n\t\t\t\t\t{new Date().getFullYear()}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { API_URL } from \"../../utils/constants\";\n\nimport { errorToast } from \"../../utils/errorToast\";\ntype Params = {\n\tgameId: string;\n};\n\nconst Join: React.FC<any> = () => {\n\tconst params = useParams<Params>();\n\tconst history = useHistory();\n\n\tconst searchGame = async () => {\n\t\tconst res = await fetch(`${API_URL}api/search/game`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({ game_id: params.gameId }),\n\t\t});\n\n\t\tconst data = await res.json();\n\t\tif (data.result === \"fail\") {\n\t\t\terrorToast(\"Game does'nt exist\");\n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/\",\n\t\t\t});\n\t\t}\n\n\t\tif (data.result === \"success\") \n\t\t\thistory.replace({\n\t\t\t\tpathname: \"/game\",\n\t\t\t\tstate: {\n\t\t\t\t\tgameId: params.gameId,\n\t\t\t\t\tmode: \"JOIN\",\n\t\t\t\t},\n\t\t\t});\n\t\t\n\t};\n\tuseEffect(() => {\n\t\tsearchGame();\n\t}, []);\n\n\treturn (\n\t\t<div className=\"flex flex-col items-center justify-center h-screen \">\n\t\t\t<p className=\"text-2xl md:text-4xl my-2\">Joining Game</p>\n\t\t\t<p className=\"my-8\">Game ID: {params.gameId}</p>\n\t\t</div>\n\t);\n};\n\nexport default Join;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Game from \"./pages/Game\";\nimport Home from \"./pages/Home\";\nimport Join from \"./pages/Join\";\nimport \"./styles/index.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Main = () => (\n\t<Router>\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t<Route path=\"/game\" component={Game} />\n\t\t\t<Route path=\"/join/:gameId\" component={Join} />\n\t\t</Switch>\n\t\t<ToastContainer limit={3} />\n\t</Router>\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Main />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"]}}